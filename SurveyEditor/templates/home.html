
{% extends "base.html" %}{% load staticfiles %}
{% block content %}


  <div class="jumbotron">
    <div class="container">
      <h1>Welcome to the HR4E Survey Editor</h1>
      <p>A tool for creating medical surveys with ease!</p>
      <!--
        	trying to get the modals to work with within the jumbotron
			so i just moved the ng-include div within this jumbotron and changed the text in partials/index.html
      -->
      <div ng-include="'{{ STATIC_URL }}partials/selectSurveyOption.html'"></div>
    </div>
  </div>

  <div ng-include="'{{ STATIC_URL }}partials/projectSelector.html'"></div>

  <div ng-include="'{{ STATIC_URL }}partials/addProjectModal.html'"></div>

  <script type="text/ng-template" id="newProjectModal.html">
        <div class="modal-header">
            <h3 class="modal-title">Add a new project</h3>
        </div>
        <div class="modal-body">

            <form action="../newProject/" method="post">{% csrf_token %}
                {{ project.as_p }}
            <input type="submit" value="Submit" />

        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>

  <script type="text/javascript">
  var ProjSelectCtrl = function($scope) {
    $scope.projects = [];
    {% for project in allProjects %}
      $scope.projects.push({
        abbrev: '{{project.abbrev}}', 
        name: '{{project.name}}',
      });
    {% endfor %}
  };
  </script>


{% endblock content %}
