
{% extends "base.html" %}{% load staticfiles %}
{% block content %}
 
  <div ng-app="EditorApp">

    <!-- Partials 
    <div ng-include="'{{ STATIC_URL }}partials/selectPageBtn.html'"></div>-->

    <div ng-include="'{{ STATIC_URL }}partials/navbar.html'"></div>
    <div ng-include="'{{ STATIC_URL }}partials/addQuestionModal.html'"></div>
    <div ng-include="'{{ STATIC_URL }}partials/addPageModal.html'"></div>
    <div ng-include="'{{ STATIC_URL }}partials/selectPageBar.html'"></div>

{{ defaultProject }}
<div ng-controller="SurvSelectCtrl">
  <br>
  Selected Survey: {{ selectedSurvey }}<br>
  {{ listPage }}
</div>
<br>
<table>
  <tr>
    <th>Current Page </th>
    <th>Next Page</th>
  </tr>
{% for page in listPages %}
<tr>
  <td>{{ page.pageID.shortTag }}</td>
  <td>{{ page.nextPageID.shortTag }}</td>
</tr>
{% endfor %}




   <!-- Django-Angular Script -->

    <script type="text/javascript">
 var PaginationDemoCtrl = function ($scope) {

   $scope.maxSize = 5;
   $scope.bigTotalItems = 175;
   $scope.bigCurrentPage = 1;
 };
    </script>

    <!-- Modal Scripts -->

    <script type="text/ng-template" id="addPageModal.html">
      <div class="modal-header">
         <h3 class="modal-title">Add a new page</h3>
      </div>
      <div class="modal-body">
        <form action="../newPage/" method="post">{% csrf_token %}
          {% for field in pageForm %}
            <div class="fieldName">{{ field.html_name }}</div>
            <div class="fieldInput">{{ field }}</div>
            <input type="hidden" value="{{ selectedSurvey }}" name="selected">
          {% endfor %}
          <input type="submit" value="Submit" />
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
      </div>
    </script>

    <script type="text/ng-template" id="addQuestionModal.html">
      <div class="modal-header">
         <h3 class="modal-title">Add a new question</h3>
      </div>
      <div class="modal-body">
        <form action="../newQuestion/" method="post">{% csrf_token %}
          {% for field in questionForm %}
            <div class="fieldName">{{ field.html_name }}</div>
            <div class="fieldInput">{{ field }}</div>
          {% endfor %}
          <input type="submit" value="Submit" />
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">OK</button>
        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
      </div>
    </script>

  </div>
  
{% endblock content %}